{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\deboroy\\\\source\\\\repos\\\\docGpt\\\\client\\\\src\\\\components\\\\ResultWithSources.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from \"react\";\n//import Image from \"next/image\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MessageItem = ({\n  message,\n  pngFile,\n  isLast\n}) => {\n  _s();\n  const userImage = \"/assets/images/user.png\";\n  const botImage = `/assets/images/bot.png`;\n  const [showSources, setShowSources] = useState(false);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `flex flex-col ${isLast ? \"flex-grow\" : \"\"}`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rounded mr-4 h-10 w-10 relative overflow-hidden\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: message.type === \"user\" ? userImage : botImage,\n          alt: `${message.type}'s profile`,\n          width: 32,\n          height: 32,\n          className: \"rounded\",\n          priority: true,\n          unoptimized: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 13,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 12,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: message.type === \"user\" ? \"user\" : \"bot\",\n        style: {\n          maxWidth: \"90%\"\n        },\n        children: message.text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 7\n    }, this), message.sourceDocuments && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"text-gray-600 text-sm font-bold\",\n        onClick: () => setShowSources(!showSources),\n        children: [\"Source Documents \", showSources ? \"(Hide)\" : \"(Show)\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 11\n      }, this), showSources && message.sourceDocuments.map((document, docIndex) => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-gray-600 text-sm font-bold\",\n          children: [\"Source \", docIndex + 1, \":\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-800 text-sm mt-2\",\n          children: document.pageContent\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n          className: \"text-xs text-gray-500 mt-2\",\n          children: JSON.stringify(document.metadata, null, 2)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 17\n        }, this)]\n      }, docIndex, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 15\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 10,\n    columnNumber: 5\n  }, this);\n};\n_s(MessageItem, \"7IL47RolkiJ/IriHe4CrYZ1OwKw=\");\n_c = MessageItem;\nconst ResultWithSources = ({\n  messages,\n  pngFile,\n  maxMsgs\n}) => {\n  _s2();\n  const messagesContainerRef = useRef();\n  useEffect(() => {\n    if (messagesContainerRef.current) {\n      const element = messagesContainerRef.current;\n      element.scrollTop = element.scrollHeight;\n    }\n  }, [messages]);\n\n  // E.g. Before we reach the max messages, we should add the justify-end property, which pushes messages to the bottom\n  const maxMsgToScroll = maxMsgs || 5;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: messagesContainerRef,\n    className: `bg-white p-10 rounded-3xl shadow-lg mb-8 overflow-y-auto h-[320px] max-h-[320px] flex flex-col space-y-4 ${messages.length < maxMsgToScroll && \"justify-end\"}`,\n    children: messages && messages.map((message, index) => /*#__PURE__*/_jsxDEV(MessageItem, {\n      message: message,\n      pngFile: pngFile\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 11\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 5\n  }, this);\n};\n_s2(ResultWithSources, \"ghIgPtKMxJ3oVdy0Kux87jE1BXE=\");\n_c2 = ResultWithSources;\nexport default ResultWithSources;\nvar _c, _c2;\n$RefreshReg$(_c, \"MessageItem\");\n$RefreshReg$(_c2, \"ResultWithSources\");","map":{"version":3,"names":["React","useState","useEffect","useRef","jsxDEV","_jsxDEV","MessageItem","message","pngFile","isLast","_s","userImage","botImage","showSources","setShowSources","className","children","src","type","alt","width","height","priority","unoptimized","fileName","_jsxFileName","lineNumber","columnNumber","style","maxWidth","text","sourceDocuments","onClick","map","document","docIndex","pageContent","JSON","stringify","metadata","_c","ResultWithSources","messages","maxMsgs","_s2","messagesContainerRef","current","element","scrollTop","scrollHeight","maxMsgToScroll","ref","length","index","_c2","$RefreshReg$"],"sources":["C:/Users/deboroy/source/repos/docGpt/client/src/components/ResultWithSources.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\r\n//import Image from \"next/image\";\r\n\r\nconst MessageItem = ({ message, pngFile, isLast }) => {\r\n  const userImage = \"/assets/images/user.png\";\r\n  const botImage = `/assets/images/bot.png`;\r\n  const [showSources, setShowSources] = useState(false);\r\n\r\n  return (\r\n    <div className={`flex flex-col ${isLast ? \"flex-grow\" : \"\"}`}>\r\n      <div className=\"flex mb-4\">\r\n        <div className=\"rounded mr-4 h-10 w-10 relative overflow-hidden\">\r\n          <img\r\n            src={message.type === \"user\" ? userImage : botImage}\r\n            alt={`${message.type}'s profile`}\r\n            width={32}\r\n            height={32}\r\n            className=\"rounded\"\r\n            priority\r\n            unoptimized\r\n          />\r\n        </div>\r\n        <p\r\n          className={message.type === \"user\" ? \"user\" : \"bot\"}\r\n          style={{ maxWidth: \"90%\" }}\r\n        >\r\n          {message.text}\r\n        </p>\r\n      </div>\r\n\r\n      {message.sourceDocuments && (\r\n        <div className=\"mb-6\">\r\n          <button\r\n            className=\"text-gray-600 text-sm font-bold\"\r\n            onClick={() => setShowSources(!showSources)}\r\n          >\r\n            Source Documents {showSources ? \"(Hide)\" : \"(Show)\"}\r\n          </button>\r\n          {showSources &&\r\n            message.sourceDocuments.map((document, docIndex) => (\r\n              <div key={docIndex}>\r\n                <h3 className=\"text-gray-600 text-sm font-bold\">\r\n                  Source {docIndex + 1}:\r\n                </h3>\r\n                <p className=\"text-gray-800 text-sm mt-2\">\r\n                  {document.pageContent}\r\n                </p>\r\n                <pre className=\"text-xs text-gray-500 mt-2\">\r\n                  {JSON.stringify(document.metadata, null, 2)}\r\n                </pre>\r\n              </div>\r\n            ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst ResultWithSources = ({ messages, pngFile, maxMsgs }) => {\r\n  const messagesContainerRef = useRef();\r\n\r\n  useEffect(() => {\r\n    if (messagesContainerRef.current) {\r\n      const element = messagesContainerRef.current;\r\n      element.scrollTop = element.scrollHeight;\r\n    }\r\n  }, [messages]);\r\n\r\n  // E.g. Before we reach the max messages, we should add the justify-end property, which pushes messages to the bottom\r\n  const maxMsgToScroll = maxMsgs || 5;\r\n\r\n  return (\r\n    <div\r\n      ref={messagesContainerRef}\r\n      className={`bg-white p-10 rounded-3xl shadow-lg mb-8 overflow-y-auto h-[320px] max-h-[320px] flex flex-col space-y-4 ${\r\n        messages.length < maxMsgToScroll && \"justify-end\"\r\n      }`}\r\n    >\r\n      {messages &&\r\n        messages.map((message, index) => (\r\n          <MessageItem key={index} message={message} pngFile={pngFile} />\r\n        ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ResultWithSources;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}